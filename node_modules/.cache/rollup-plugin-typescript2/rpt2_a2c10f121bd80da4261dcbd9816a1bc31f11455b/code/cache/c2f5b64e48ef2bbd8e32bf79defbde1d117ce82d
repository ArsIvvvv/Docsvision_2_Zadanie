{"code":"import { __awaiter, __generator } from \"tslib\";\r\nimport { ApplicationLogic } from \"../Logic/ApplicationLogic\";\r\n// ========== СОХРАНЕНИЕ КАРТОЧКИ ==========\r\nexport function ddApplication_OnSaving(sender, args) {\r\n    return __awaiter(this, void 0, void 0, function () {\r\n        var logic, isValid;\r\n        return __generator(this, function (_a) {\r\n            switch (_a.label) {\r\n                case 0:\r\n                    logic = new ApplicationLogic();\r\n                    return [4 /*yield*/, logic.validateBeforeSave(sender)];\r\n                case 1:\r\n                    isValid = _a.sent();\r\n                    if (!isValid) {\r\n                        // Отменяем сохранение если проверка не пройдена\r\n                        args.savingCancelled = true;\r\n                        return [2 /*return*/];\r\n                    }\r\n                    console.log('Карточка сохраняется...');\r\n                    return [4 /*yield*/, logic.sendSavingMsg(sender)];\r\n                case 2:\r\n                    _a.sent();\r\n                    return [2 /*return*/];\r\n            }\r\n        });\r\n    });\r\n}\r\nexport function ddApplication_OnSaved(sender, args) {\r\n    return __awaiter(this, void 0, void 0, function () {\r\n        var logic;\r\n        return __generator(this, function (_a) {\r\n            switch (_a.label) {\r\n                case 0:\r\n                    logic = new ApplicationLogic();\r\n                    return [4 /*yield*/, logic.sendSavedMsg(sender)];\r\n                case 1:\r\n                    _a.sent();\r\n                    return [2 /*return*/];\r\n            }\r\n        });\r\n    });\r\n}\r\n// ========== ОБРАБОТКА ДАТ ==========\r\nexport function ddDateRange_OnDateChange(sender, args) {\r\n    return __awaiter(this, void 0, void 0, function () {\r\n        var logic;\r\n        return __generator(this, function (_a) {\r\n            switch (_a.label) {\r\n                case 0:\r\n                    logic = new ApplicationLogic();\r\n                    return [4 /*yield*/, logic.validateDateRange(sender)];\r\n                case 1:\r\n                    _a.sent();\r\n                    return [2 /*return*/];\r\n            }\r\n        });\r\n    });\r\n}\r\n// ========== КНОПКА ИНФОРМАЦИИ ==========\r\nexport function ddShowCardInfo_OnClick(sender, args) {\r\n    return __awaiter(this, void 0, void 0, function () {\r\n        var logic;\r\n        return __generator(this, function (_a) {\r\n            switch (_a.label) {\r\n                case 0:\r\n                    logic = new ApplicationLogic();\r\n                    // Передаем layout вместо sender\r\n                    return [4 /*yield*/, logic.showCardInfo(sender.layout)];\r\n                case 1:\r\n                    // Передаем layout вместо sender\r\n                    _a.sent();\r\n                    return [2 /*return*/];\r\n            }\r\n        });\r\n    });\r\n}\r\n//# sourceMappingURL=ApplicationEventHandlers.js.map","references":["C:/Users/ivlev/OneDrive/Рабочий стол/Тестовое DocsVision/ExampleWebExtension/src/Logic/ApplicationLogic.ts","C:/Users/ivlev/OneDrive/Рабочий стол/Тестовое DocsVision/ExampleWebExtension/node_modules/@docsvision/webclient/System/$Layout.d.ts","C:/Users/ivlev/OneDrive/Рабочий стол/Тестовое DocsVision/ExampleWebExtension/node_modules/@docsvision/webclient/System/$MessageBox.d.ts","C:/Users/ivlev/OneDrive/Рабочий стол/Тестовое DocsVision/ExampleWebExtension/node_modules/@docsvision/webclient/System/IEventArgs.d.ts","C:/Users/ivlev/OneDrive/Рабочий стол/Тестовое DocsVision/ExampleWebExtension/node_modules/@docsvision/webclient/Platform/DateTimePicker.d.ts","C:/Users/ivlev/OneDrive/Рабочий стол/Тестовое DocsVision/ExampleWebExtension/node_modules/@docsvision/webclient/Platform/Number.d.ts"],"map":"{\"version\":3,\"file\":\"ApplicationEventHandlers.js\",\"sourceRoot\":\"\",\"sources\":[\"../../../../../src/EventHandlers/ApplicationEventHandlers.ts\"],\"names\":[],\"mappings\":\";AAAA,OAAO,EAAE,gBAAgB,EAAE,MAAM,2BAA2B,CAAC;AAO7D,4CAA4C;AAE5C,MAAM,UAAgB,sBAAsB,CAAC,MAAe,EAAE,IAAgB;;;;;;oBACpE,KAAK,GAAG,IAAI,gBAAgB,EAAE,CAAC;oBAGrB,qBAAM,KAAK,CAAC,kBAAkB,CAAC,MAAM,CAAC,EAAA;;oBAAhD,OAAO,GAAG,SAAsC;oBACtD,IAAI,CAAC,OAAO,EAAE;wBACV,gDAAgD;wBAC/C,IAAY,CAAC,eAAe,GAAG,IAAI,CAAC;wBACrC,sBAAO;qBACV;oBAED,OAAO,CAAC,GAAG,CAAC,yBAAyB,CAAC,CAAC;oBACvC,qBAAM,KAAK,CAAC,aAAa,CAAC,MAAM,CAAC,EAAA;;oBAAjC,SAAiC,CAAC;;;;;CACrC;AAGD,MAAM,UAAgB,qBAAqB,CAAC,MAAe,EAAE,IAAgB;;;;;;oBACnE,KAAK,GAAG,IAAI,gBAAgB,EAAE,CAAC;oBACrC,qBAAM,KAAK,CAAC,YAAY,CAAC,MAAM,CAAC,EAAA;;oBAAhC,SAAgC,CAAC;;;;;CACpC;AAED,sCAAsC;AAEtC,MAAM,UAAgB,wBAAwB,CAAC,MAAsB,EAAE,IAAgB;;;;;;oBAC7E,KAAK,GAAG,IAAI,gBAAgB,EAAE,CAAC;oBACrC,qBAAM,KAAK,CAAC,iBAAiB,CAAC,MAAM,CAAC,EAAA;;oBAArC,SAAqC,CAAC;;;;;CACzC;AAED,0CAA0C;AAE1C,MAAM,UAAgB,sBAAsB,CAAC,MAAW,EAAE,IAAgB;;;;;;oBAChE,KAAK,GAAG,IAAI,gBAAgB,EAAE,CAAC;oBACrC,gCAAgC;oBAChC,qBAAM,KAAK,CAAC,YAAY,CAAC,MAAM,CAAC,MAAM,CAAC,EAAA;;oBADvC,gCAAgC;oBAChC,SAAuC,CAAC;;;;;CAC3C\"}"}
