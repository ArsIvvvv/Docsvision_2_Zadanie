{"version":3,"file":"extension.js","sources":["../../../../src/Service/Interface/IOfficeService.ts","../../../../src/Logic/ApplicationLogic.ts","../../../../src/EventHandlers/ApplicationEventHandlers.ts","../../../../src/Service/OfficeSevice.ts","../../../../src/Index.ts"],"sourcesContent":["import { serviceName } from \"@docsvision/web/core/services\";\r\nimport { IOfficeRequestModel } from \"../../Model/IOfficeRequestModel\";\r\nimport { IOfficeNameModel } from \"../../Model/IOfficeNameModel\";\r\nimport { IOfficeSumRequestModel } from \"../../Model/IOfficeSumRequestModel\";\r\nimport { IOfficeSumModel } from \"../../Model/IOfficeSumModel\";\r\n\r\nexport interface IOfficeService{\r\n    ChangeManager(model:IOfficeRequestModel): Promise<IOfficeNameModel>\r\n    ChangeSum(model:IOfficeSumRequestModel): Promise<IOfficeSumModel>\r\n}\r\n\r\n\r\n\r\nexport type $OfficeService = {activityPlanService: IOfficeService};\r\nexport const $OfficeService = serviceName<$OfficeService, IOfficeService>(x=> x.activityPlanService)\r\n","import { ILayout } from \"@docsvision/webclient/System/$Layout\";\r\nimport { $MessageBox } from \"@docsvision/webclient/System/$MessageBox\";\r\nimport { DateTimePicker } from \"@docsvision/webclient/Platform/DateTimePicker\";\r\nimport { TextBox } from \"@docsvision/webclient/Platform/TextBox\";\r\nimport { NumberControl, NumberParams } from \"@docsvision/webclient/Platform/Number\";\r\nimport { TextArea, TextAreaParams } from \"@docsvision/webclient/Platform/TextArea\";\r\nimport { DirectoryDesignerRow } from \"@docsvision/webclient/BackOffice/DirectoryDesignerRow\";\r\nimport { Layout } from \"@docsvision/webclient/System/Layout\";\r\nimport { $OfficeService } from \"../Service/Interface/IOfficeService\";\r\nimport { StaffDirectoryItems } from \"@docsvision/webclient/BackOffice/StaffDirectoryItems\";\r\nimport { $DepartmentController, $EmployeeController } from \"@docsvision/webclient/Generated/DocsVision.WebClient.Controllers\";\r\n\r\n\r\n\r\n\r\n\r\nexport class ApplicationLogic {\r\n    \r\n    \r\n    public async validateBeforeSave(layout: ILayout): Promise<boolean> \r\n    {\r\n    const messageBoxSvc = layout.getService($MessageBox);\r\n    \r\n    try {\r\n        const daysControl = layout.controls.get<NumberControl>(\"KolDays\");\r\n        \r\n        if (!daysControl) {\r\n            await messageBoxSvc.showError('Контрол \"Количество дней\" не найден!');\r\n            return false;\r\n        }\r\n\r\n        const daysValue = daysControl.params.value;\r\n        \r\n        \r\n        if (daysValue === null || daysValue === undefined || daysValue === 0) {\r\n            await messageBoxSvc.showWarning('Поле \"Количество дней\" обязательно для заполнения!');\r\n            return false; \r\n        }\r\n\r\n      \r\n        if (daysValue < 1) {\r\n            await messageBoxSvc.showWarning('Количество дней должно быть больше 0!');\r\n            return false;\r\n        }\r\n\r\n        return true;\r\n\r\n    } catch (error) {\r\n        console.error('Ошибка при проверке перед сохранением:', error);\r\n        await messageBoxSvc.showError('Ошибка при проверке данных');\r\n        return false;\r\n    }\r\n    }\r\n\r\n    public async sendSavingMsg(layout: ILayout): Promise<void> {\r\n        await layout.getService($MessageBox).showInfo('Карточка сохраняется...');\r\n    }\r\n\r\n    public async sendSavedMsg(layout: ILayout): Promise<void> {\r\n        await layout.getService($MessageBox).showInfo('Карточка успешно сохранена!');\r\n    }\r\n\r\n    public async validateDateRange(sender: DateTimePicker): Promise<void> {\r\n        const layout = sender.layout;\r\n        const messageBoxSvc = layout.getService($MessageBox);\r\n\r\n        try {\r\n            const startDateControl = layout.controls.get<DateTimePicker>(\"StartDate\");\r\n            const endDateControl = layout.controls.get<DateTimePicker>(\"EndDate\");\r\n\r\n            if (!startDateControl || !endDateControl) {\r\n                await messageBoxSvc.showError('Контролы дат не найдены!');\r\n                return;\r\n            }\r\n\r\n            const startDateValue = startDateControl.value;\r\n            const endDateValue = endDateControl.value;\r\n\r\n            \r\n            if (startDateValue && endDateValue) {\r\n                const startDate = new Date(startDateValue);\r\n                const endDate = new Date(endDateValue);\r\n\r\n                if (endDate <= startDate) {\r\n                    await messageBoxSvc.showError('Дата окончания должна быть больше даты начала!');\r\n                    \r\n                    \r\n                    sender.value = null;\r\n                }\r\n            }\r\n        } catch (error) {\r\n            console.error('Ошибка при валидации дат:', error);\r\n            await messageBoxSvc.showError('Ошибка при проверке дат');\r\n        }\r\n    }\r\n\r\n    \r\n\r\n    public async showCardInfo(layout: ILayout): Promise<void> \r\n    {\r\n    if (!layout) { return; }\r\n    \r\n    const messageBoxSvc = layout.getService($MessageBox);\r\n    \r\n    try {\r\n        const documentNameControl = layout.controls.get<TextBox>(\"documentName\");\r\n        const regDateControl = layout.controls.get<DateTimePicker>(\"regDate\");\r\n        const startDateControl = layout.controls.get<DateTimePicker>(\"StartDate\");\r\n        const endDateControl = layout.controls.get<DateTimePicker>(\"EndDate\");\r\n        const reasonControl = layout.controls.get<TextArea>(\"Reason\");\r\n        const cityControl = layout.controls.tryGet<DirectoryDesignerRow>(\"City\");\r\n\r\n        const lines = [\r\n            `Название карточки: ${documentNameControl?.params.value || 'Не указано'}`,\r\n            `Дата создания: ${regDateControl?.params.value ? \r\n                new Date(regDateControl.params.value).toLocaleDateString('ru-RU') : 'Не указана'}`,\r\n            `Дата с: ${startDateControl?.params.value ? \r\n                new Date(startDateControl.params.value).toLocaleDateString('ru-RU') : 'Не указана'}`,\r\n            `Дата по: ${endDateControl?.params.value ? \r\n                new Date(endDateControl.params.value).toLocaleDateString('ru-RU') :     'Не указана'}`,\r\n            `Основание для поездки: ${reasonControl.params.value || 'Не указано'}`,\r\n            `Город: ${cityControl?.params.value.name|| 'Не указан'}`\r\n        ];\r\n\r\n        const message = lines.join('\\n');\r\n        await messageBoxSvc.showInfo(message, \"Информация о командировке\");\r\n\r\n    } catch (error) {\r\n        console.error('Ошибка при отображении информации о карточке:', error);\r\n        await messageBoxSvc.showError(\"Произошла ошибка при получении данных\");\r\n    }\r\n\r\n    \r\n    }\r\n    public async onBusinessTripEmployeeChanged(sender: any, layout: Layout): Promise<void> {\r\n    const messageBoxSvc = layout.getService($MessageBox);\r\n    \r\n    try {\r\n        const selectedEmployee = sender.params.value;\r\n        \r\n        if (!selectedEmployee?.id) {\r\n            await messageBoxSvc.showWarning('Сотрудник не выбран');\r\n            return;\r\n        }\r\n\r\n        const response = await layout.getService($OfficeService).ChangeManager({\r\n            documentId: layout.cardInfo.id,\r\n            employeeId: selectedEmployee.id\r\n        });\r\n\r\n        \r\n        const employeeControl = layout.controls.get<StaffDirectoryItems>(\"staffDirectoryItems1\");\r\n        const textControl = layout.controls.get<TextBox>(\"textBox2\");\r\n\r\n        const employeeController = layout.getService($EmployeeController);\r\n        const managerInfo = await employeeController.getEmployee(response.name,{isShowOverlay: false});\r\n       \r\n        employeeControl.params.value = managerInfo;   \r\n        \r\n\r\n        console.log( employeeControl.params.value);\r\n\r\n        if (textControl) {\r\n            textControl.params.value = response.phone.toString();\r\n        }\r\n\r\n        await messageBoxSvc.showInfo('Данные обновлены');\r\n\r\n    } catch (error) {\r\n        await messageBoxSvc.showError('Ошибка: ' + error.message);\r\n    }\r\n}\r\n    public async onBusinessTripSumChanged(sender: any, layout: Layout): Promise<void> {\r\n    \r\n        \r\n        const cityControl = layout.controls.get<DirectoryDesignerRow>(\"City\");\r\n        const daysControl = layout.controls.get<NumberControl>(\"KolDays\"); \r\n        const sumControl = layout.controls.get<NumberControl>(\"number2\"); \r\n\r\n        const selectedCity = cityControl.params.value;\r\n        const daysCount = daysControl.params.value;\r\n\r\n        console.log( selectedCity);\r\n\r\n        const response = await layout.getService($OfficeService).ChangeSum({\r\n            city: selectedCity.name,\r\n            days: daysCount\r\n        });\r\n\r\n        sumControl.params.value = response.sum; \r\n   } \r\n}","import { ApplicationLogic } from \"../Logic/ApplicationLogic\";\r\nimport { ILayout } from \"@docsvision/webclient/System/$Layout\";\r\nimport { $MessageBox } from \"@docsvision/webclient/System/$MessageBox\";\r\nimport { IEventArgs } from \"@docsvision/webclient/System/IEventArgs\";\r\nimport { DateTimePicker } from \"@docsvision/webclient/Platform/DateTimePicker\";\r\nimport { NumberControl } from \"@docsvision/webclient/Platform/Number\";\r\nimport { CancelableEventArgs } from \"@docsvision/webclient/System/CancelableEventArgs\";\r\nimport { ICardSavingEventArgs } from \"@docsvision/webclient/System/ICardSavingEventArgs\";\r\n\r\n\r\nexport async function ddApplication_OnSaving(sender: ILayout, args: CancelableEventArgs<ICardSavingEventArgs>): Promise<void> {\r\n    const logic = new ApplicationLogic();\r\n    \r\n    const isValid = await logic.validateBeforeSave(sender);\r\n    if (!isValid) {\r\n        \r\n        args.cancel();\r\n        return;\r\n    }\r\n     \r\n    console.log('Карточка сохраняется...');\r\n    await logic.sendSavingMsg(sender);\r\n    args.accept(); \r\n}\r\n\r\n\r\nexport async function ddApplication_OnSaved(sender: ILayout, args: IEventArgs): Promise<void> {\r\n    const logic = new ApplicationLogic();\r\n    await logic.sendSavedMsg(sender);\r\n}\r\n\r\n\r\nexport async function ddDateRange_OnDateChange(sender: DateTimePicker, args: IEventArgs): Promise<void> {\r\n    const logic = new ApplicationLogic();\r\n    await logic.validateDateRange(sender);\r\n}\r\n\r\n\r\nexport async function ddShowCardInfo_OnClick(sender: any, args: IEventArgs): Promise<void> {\r\n    const logic = new ApplicationLogic();\r\n    await logic.showCardInfo(sender.layout);\r\n}\r\n\r\nexport async function ddChangeInfo_OnChangeManager(sender: any, args: IEventArgs): Promise<void> {\r\n    const logic = new ApplicationLogic();\r\n    await logic.onBusinessTripEmployeeChanged(sender, sender.layout);\r\n}\r\n\r\nexport async function ddChangeInfo_OnChangeSum(sender: any, args: IEventArgs): Promise<void> {\r\n    const logic = new ApplicationLogic();\r\n    await logic.onBusinessTripSumChanged(sender, sender.layout);\r\n}\r\n","import { $RequestManager } from \"@docsvision/webclient/System/$RequestManager\";\r\nimport { ControllerBase, HttpMethods } from \"@docsvision/webclient/System/ControllerBase\";\r\nimport { IOfficeRequestModel} from \"../Model/IOfficeRequestModel\";\r\nimport { IOfficeService } from \"./Interface/IOfficeService\";\r\nimport { IOfficeNameModel } from \"../Model/IOfficeNameModel\";\r\nimport { IOfficeSumModel } from \"../Model/IOfficeSumModel\";\r\nimport { IOfficeSumRequestModel} from \"../Model/IOfficeSumRequestModel\";\r\n\r\nexport class OfficeService extends ControllerBase implements IOfficeService{\r\n    protected controllerName: string = \"Office\";\r\n\r\n    constructor(protected service: $RequestManager){\r\n        super(service);\r\n    }\r\n\r\n    ChangeManager(model: IOfficeRequestModel): Promise<IOfficeNameModel>{\r\n        return super.doRequest({\r\n\r\n            controller:  this.controllerName,\r\n            action: \"Change1\",\r\n            isApi: true,\r\n            method: HttpMethods.Post,\r\n            data: {model},\r\n            options: {isShowOverlay: true}\r\n        });\r\n    }\r\n\r\n    ChangeSum(model: IOfficeSumRequestModel): Promise<IOfficeSumModel>{\r\n        return super.doRequest({\r\n\r\n            controller:  this.controllerName,\r\n            action: \"Change2\",\r\n            isApi: true,\r\n            method: HttpMethods.Post,\r\n            data: {model},\r\n            options: {isShowOverlay: true}\r\n        });\r\n    }\r\n}\r\n","﻿\r\nimport { Service } from \"@docsvision/web/core/services\";\r\nimport * as ApplicationEventHandlers from \"./EventHandlers/ApplicationEventHandlers\";\r\nimport { extensionManager } from \"@docsvision/webclient/System/ExtensionManager\";\r\nimport { $OfficeService } from \"./Service/Interface/IOfficeService\";\r\nimport { $RequestManager } from \"@docsvision/webclient/System/$RequestManager\";\r\nimport { OfficeService } from \"./Service/OfficeSevice\";\r\n\r\n// Регистрация расширения\r\nextensionManager.registerExtension({\r\n    name: \"MyWebExtension\",\r\n    version: \"1.0\",\r\n    globalEventHandlers: [ApplicationEventHandlers],\r\n    layoutServices: [\r\n        Service.fromFactory($OfficeService, (services: $RequestManager) => new OfficeService(services)),\r\n    ],\r\n    controls: []\r\n});"],"names":["serviceName","$MessageBox","$EmployeeController","__extends","HttpMethods","ControllerBase","extensionManager","Service"],"mappings":"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"}